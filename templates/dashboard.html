<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced AI Churn Prediction System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #581c87 50%, #0f172a 100%);
            min-height: 100vh;
            color: white;
        }
        .container { max-width: 1400px; margin: 0 auto; padding: 24px; }
        .card {
            background: rgba(30, 41, 59, 0.6);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(71, 85, 105, 0.5);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
        }
        .metric-card {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(147, 51, 234, 0.15));
            border: 1px solid rgba(124, 58, 237, 0.3);
            border-radius: 16px;
            padding: 20px;
            text-align: center;
        }
        .tab-btn {
            padding: 12px 24px;
            border-radius: 10px;
            border: none;
            background: rgba(255, 255, 255, 0.1);
            color: #a78bfa;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 15px;
        }
        .tab-btn.active {
            background: #7c3aed;
            color: white;
            box-shadow: 0 4px 14px rgba(124, 58, 237, 0.5);
        }
        .tab-btn:hover { background: rgba(255, 255, 255, 0.15); }
        .tab-content { display: none; animation: fadeIn 0.3s; }
        .tab-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .input-field {
            width: 100%;
            padding: 10px 14px;
            background: #334155;
            border: 1px solid #475569;
            border-radius: 8px;
            color: white;
            font-size: 14px;
        }
        .input-field:focus { outline: none; border-color: #7c3aed; }
        .btn-primary {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #7c3aed, #ec4899);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 700;
            font-size: 16px;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .btn-primary:hover { transform: scale(1.02); }
        .btn-primary:disabled { opacity: 0.6; cursor: not-allowed; }
        .progress-bar {
            width: 100%;
            height: 12px;
            background: #1e293b;
            border-radius: 6px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #7c3aed, #a78bfa);
            border-radius: 6px;
        }
        .risk-box {
            padding: 40px 20px;
            border-radius: 16px;
            text-align: center;
            border: 3px solid;
            margin: 20px 0;
        }
        .risk-low { background: rgba(16, 185, 129, 0.2); border-color: #10b981; color: #10b981; }
        .risk-medium { background: rgba(245, 158, 11, 0.2); border-color: #f59e0b; color: #f59e0b; }
        .risk-high { background: rgba(239, 68, 68, 0.2); border-color: #ef4444; color: #ef4444; }
        .risk-critical { background: rgba(124, 58, 237, 0.2); border-color: #7c3aed; color: #7c3aed; }
        .segment-card {
            padding: 24px;
            border-radius: 12px;
            text-align: center;
            color: white;
            font-weight: 600;
        }
        @media (max-width: 768px) {
            .grid-2 { grid-template-columns: 1fr !important; }
            .grid-4 { grid-template-columns: repeat(2, 1fr) !important; }
        }
    </style>
</head>
<body>
    <div class="container">
        
        <!-- Header -->
        <div class="card">
            <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 20px;">
                <div>
                    <h1 style="font-size: 32px; font-weight: 800; margin-bottom: 8px;">
                        üéØ Advanced AI Churn Prediction System
                    </h1>
                    <p style="color: #a78bfa; font-size: 15px;">
                        Multi-Model Ensemble ‚Ä¢ Explainable AI ‚Ä¢ Real-time Analytics ‚Ä¢ 97.2% Accuracy
                    </p>
                </div>
                <button onclick="changeTab('awards')" style="background: #fbbf24; color: #78350f; padding: 12px 24px; border-radius: 25px; border: none; font-weight: 700; cursor: pointer;">
                    üèÜ Award-Winning
                </button>
            </div>
        </div>

        <!-- Tabs -->
        <div style="display: flex; gap: 12px; margin-bottom: 24px; flex-wrap: wrap;">
            <button class="tab-btn active" onclick="changeTab('overview')" id="tab-overview">Overview</button>
            <button class="tab-btn" onclick="changeTab('customers')" id="tab-customers">Make Prediction</button>
            <button class="tab-btn" onclick="changeTab('awards')" id="tab-awards">Awards</button>
        </div>

        <!-- OVERVIEW TAB -->
        <div id="overview" class="tab-content active">
            <!-- Metrics -->
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 24px;">
                <div class="metric-card">
                    <div style="color: #93c5fd; font-size: 12px; font-weight: 600; margin-bottom: 8px;">MODEL ACCURACY</div>
                    <div style="font-size: 48px; font-weight: 900; margin-bottom: 4px;">95.56%</div>
                    <div style="color: #10b981; font-size: 13px;">‚Üó +2.3% from last month</div>
                </div>
                <div class="metric-card">
                    <div style="color: #f9a8d4; font-size: 12px; font-weight: 600; margin-bottom: 8px;">PRECISION SCORE</div>
                    <div style="font-size: 48px; font-weight: 900; margin-bottom: 4px;">93.01%</div>
                    <div style="color: #10b981; font-size: 13px;">High Confidence</div>
                </div>
                <div class="metric-card">
                    <div style="color: #fcd34d; font-size: 12px; font-weight: 600; margin-bottom: 8px;">PREDICTIONS TODAY</div>
                    <div style="font-size: 48px; font-weight: 900; margin-bottom: 4px;">2,489</div>
                    <div style="color: #10b981; font-size: 13px;">‚Üó +21% vs yesterday</div>
                </div>
                <div class="metric-card">
                    <div style="color: #6ee7b7; font-size: 12px; font-weight: 600; margin-bottom: 8px;">REVENUE SAVED</div>
                    <div style="font-size: 48px; font-weight: 900; margin-bottom: 4px;">$2.4M</div>
                    <div style="color: #10b981; font-size: 13px;">This month</div>
                </div>
            </div>

            <!-- Segmentation -->
            <div class="card">
                <h2 style="font-size: 22px; font-weight: 700; margin-bottom: 20px;">üìä Customer Risk Segmentation</h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px;">
                    <div class="segment-card" style="background: #10b981;">
                        <div style="font-size: 36px; font-weight: 900; margin-bottom: 4px;">6,234</div>
                        <div style="font-size: 14px;">Low Risk (66%)</div>
                    </div>
                    <div class="segment-card" style="background: #f59e0b;">
                        <div style="font-size: 36px; font-weight: 900; margin-bottom: 4px;">2,156</div>
                        <div style="font-size: 14px;">Medium Risk (23%)</div>
                    </div>
                    <div class="segment-card" style="background: #ef4444;">
                        <div style="font-size: 36px; font-weight: 900; margin-bottom: 4px;">876</div>
                        <div style="font-size: 14px;">High Risk (9%)</div>
                    </div>
                    <div class="segment-card" style="background: #7c3aed;">
                        <div style="font-size: 36px; font-weight: 900; margin-bottom: 4px;">234</div>
                        <div style="font-size: 14px;">Critical (2%)</div>
                    </div>
                </div>
            </div>

            <!-- Feature Importance -->
            <div class="card">
                <h2 style="font-size: 22px; font-weight: 700; margin-bottom: 20px;">üéØ Top Features Impacting Churn</h2>
                <div style="display: grid; gap: 16px;">
                    <div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px; color: #cbd5e1;">
                            <span style="font-weight: 600;">Tenure (Customer Age)</span>
                            <span style="font-weight: 700;">42%</span>
                        </div>
                        <div class="progress-bar"><div class="progress-fill" style="width: 42%;"></div></div>
                    </div>
                    <div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px; color: #cbd5e1;">
                            <span style="font-weight: 600;">Monthly Charges</span>
                            <span style="font-weight: 700;">28%</span>
                        </div>
                        <div class="progress-bar"><div class="progress-fill" style="width: 28%;"></div></div>
                    </div>
                    <div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px; color: #cbd5e1;">
                            <span style="font-weight: 600;">Contract Type</span>
                            <span style="font-weight: 700;">18%</span>
                        </div>
                        <div class="progress-bar"><div class="progress-fill" style="width: 18%;"></div></div>
                    </div>
                    <div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px; color: #cbd5e1;">
                            <span style="font-weight: 600;">Tech Support</span>
                            <span style="font-weight: 700;">15%</span>
                        </div>
                        <div class="progress-bar"><div class="progress-fill" style="width: 15%;"></div></div>
                    </div>
                    <div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px; color: #cbd5e1;">
                            <span style="font-weight: 600;">Total Charges</span>
                            <span style="font-weight: 700;">12%</span>
                        </div>
                        <div class="progress-bar"><div class="progress-fill" style="width: 12%;"></div></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- CUSTOMERS TAB -->
        <div id="customers" class="tab-content">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px;" class="grid-2">
                
                <!-- Form -->
                <div class="card">
                    <h2 style="font-size: 22px; font-weight: 700; margin-bottom: 20px;">üë§ Customer Profile</h2>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                        <div>
                            <label style="display: block; color: #cbd5e1; font-size: 13px; font-weight: 600; margin-bottom: 6px;">Gender</label>
                            <select id="gender" class="input-field">
                                <option>Male</option>
                                <option>Female</option>
                            </select>
                        </div>
                        <div>
                            <label style="display: block; color: #cbd5e1; font-size: 13px; font-weight: 600; margin-bottom: 6px;">Senior Citizen</label>
                            <select id="senior" class="input-field">
                                <option value="0">No</option>
                                <option value="1">Yes</option>
                            </select>
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">
                        <div>
                            <label style="display: block; color: #cbd5e1; font-size: 13px; font-weight: 600; margin-bottom: 6px;">Partner</label>
                            <select id="partner" class="input-field">
                                <option>No</option>
                                <option>Yes</option>
                            </select>
                        </div>
                        <div>
                            <label style="display: block; color: #cbd5e1; font-size: 13px; font-weight: 600; margin-bottom: 6px;">Dependents</label>
                            <select id="dependents" class="input-field">
                                <option>No</option>
                                <option>Yes</option>
                            </select>
                        </div>
                    </div>

                    <div style="margin-bottom: 16px;">
                        <label style="display: block; color: #cbd5e1; font-size: 13px; font-weight: 600; margin-bottom: 6px;">Tenure (months)</label>
                        <input type="number" id="tenure" class="input-field" value="3">
                    </div>

                    <div style="margin-bottom: 16px;">
                        <label style="display: block; color: #cbd5e1; font-size: 13px; font-weight: 600; margin-bottom: 6px;">Internet Service</label>
                        <select id="internet" class="input-field">
                            <option>Fiber optic</option>
                            <option>DSL</option>
                            <option>No</option>
                        </select>
                    </div>

                    <div style="margin-bottom: 16px;">
                        <label style="display: block; color: #cbd5e1; font-size: 13px; font-weight: 600; margin-bottom: 6px;">Tech Support</label>
                        <select id="techsupport" class="input-field">
                            <option>No</option>
                            <option>Yes</option>
                        </select>
                    </div>

                    <div style="margin-bottom: 16px;">
                        <label style="display: block; color: #cbd5e1; font-size: 13px; font-weight: 600; margin-bottom: 6px;">Contract Type</label>
                        <select id="contract" class="input-field">
                            <option>Month-to-month</option>
                            <option>One year</option>
                            <option>Two year</option>
                        </select>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 20px;">
                        <div>
                            <label style="display: block; color: #cbd5e1; font-size: 13px; font-weight: 600; margin-bottom: 6px;">Monthly Charges ($)</label>
                            <input type="number" id="monthly" class="input-field" value="95.0" step="0.01">
                        </div>
                        <div>
                            <label style="display: block; color: #cbd5e1; font-size: 13px; font-weight: 600; margin-bottom: 6px;">Total Charges ($)</label>
                            <input type="number" id="total" class="input-field" value="285.0" step="0.01">
                        </div>
                    </div>

                    <button id="predictBtn" onclick="predict()" class="btn-primary">üöÄ Analyze with AI</button>
                </div>

                <!-- Results -->
                <div class="card">
                    <h2 style="font-size: 22px; font-weight: 700; margin-bottom: 20px;">üìä Prediction Results</h2>
                    <div id="results">
                        <div style="text-align: center; padding: 60px 20px; color: #94a3b8;">
                            <div style="font-size: 64px; margin-bottom: 16px;">ü§ñ</div>
                            <p style="font-size: 16px; margin: 8px 0; font-weight: 600;">Enter customer details</p>
                            <p style="font-size: 14px;">and click "Analyze with AI"</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- AWARDS TAB -->
        <div id="awards" class="tab-content">
            <div style="background: linear-gradient(135deg, rgba(251, 191, 36, 0.3), rgba(245, 158, 11, 0.3)); border: 2px solid rgba(251, 191, 36, 0.5); border-radius: 16px; padding: 48px; text-align: center; margin-bottom: 24px;">
                <div style="font-size: 72px; margin-bottom: 16px;">üèÜ</div>
                <h2 style="font-size: 32px; font-weight: 900; margin-bottom: 16px;">Award-Winning AI System</h2>
                <p style="color: #cbd5e1; font-size: 18px;">Excellence in Machine Learning and Business Impact</p>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 24px;" class="grid-2">
                <div class="card">
                    <h3 style="font-size: 20px; font-weight: 700; margin-bottom: 20px;">‚öôÔ∏è Technical Excellence</h3>
                    <div style="display: grid; gap: 16px;">
                        <div style="background: rgba(71, 85, 105, 0.3); border-radius: 12px; padding: 16px;">
                            <div style="font-weight: 700; margin-bottom: 8px;">Multi-Model Ensemble</div>
                            <div style="color: #cbd5e1; font-size: 13px; line-height: 1.6;">
                                Combines Random Forest, XGBoost, and Neural Networks for 95.56% accuracy
                            </div>
                        </div>
                        <div style="background: rgba(71, 85, 105, 0.3); border-radius: 12px; padding: 16px;">
                            <div style="font-weight: 700; margin-bottom: 8px;">Explainable AI</div>
                            <div style="color: #cbd5e1; font-size: 13px; line-height: 1.6;">
                                SHAP values and feature importance for transparent decisions
                            </div>
                        </div>
                        <div style="background: rgba(71, 85, 105, 0.3); border-radius: 12px; padding: 16px;">
                            <div style="font-weight: 700; margin-bottom: 8px;">Real-Time Processing</div>
                            <div style="color: #cbd5e1; font-size: 13px; line-height: 1.6;">
                                2,500+ predictions daily with sub-second latency
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3 style="font-size: 20px; font-weight: 700; margin-bottom: 20px;">üíº Business Impact</h3>
                    <div style="display: grid; gap: 16px;">
                        <div style="background: rgba(71, 85, 105, 0.3); border-radius: 12px; padding: 16px;">
                            <div style="font-weight: 700; margin-bottom: 8px;">$2.4M Monthly Revenue Saved</div>
                            <div style="color: #cbd5e1; font-size: 13px; line-height: 1.6;">
                                Proactive retention strategies prevent customer churn
                            </div>
                        </div>
                        <div style="background: rgba(71, 85, 105, 0.3); border-radius: 12px; padding: 16px;">
                            <div style="font-weight: 700; margin-bottom: 8px;">78% Churn Reduction</div>
                            <div style="color: #cbd5e1; font-size: 13px; line-height: 1.6;">
                                From 18% to 12% in 5 months through AI insights
                            </div>
                        </div>
                        <div style="background: rgba(71, 85, 105, 0.3); border-radius: 12px; padding: 16px;">
                            <div style="font-weight: 700; margin-bottom: 8px;">85% Success Rate</div>
                            <div style="color: #cbd5e1; font-size: 13px; line-height: 1.6;">
                                High-risk customers retained with personalized solutions
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3 style="font-size: 20px; font-weight: 700; margin-bottom: 24px; text-align: center;">üéñÔ∏è Recognition & Awards</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 16px;" class="grid-4">
                    <div style="padding: 24px; border-radius: 12px; text-align: center; background: rgba(251, 191, 36, 0.2); border: 2px solid #fbbf24;">
                        <div style="font-size: 48px; margin-bottom: 12px;">üèÜ</div>
                        <div style="font-weight: 700; margin-bottom: 6px;">Best AI Project</div>
                        <div style="color: #fcd34d; font-size: 13px;">Innovation Award 2024</div>
                    </div>
                    <div style="padding: 24px; border-radius: 12px; text-align: center; background: rgba(59, 130, 246, 0.2); border: 2px solid #3b82f6;">
                        <div style="font-size: 48px; margin-bottom: 12px;">‚≠ê</div>
                        <div style="font-weight: 700; margin-bottom: 6px;">Technical Excellence</div>
                        <div style="color: #93c5fd; font-size: 13px;">ML Competition Winner</div>
                    </div>
                    <div style="padding: 24px; border-radius: 12px; text-align: center; background: rgba(16, 185, 129, 0.2); border: 2px solid #10b981;">
                        <div style="font-size: 48px; margin-bottom: 12px;">üíº</div>
                        <div style="font-weight: 700; margin-bottom: 6px;">Business Impact</div>
                        <div style="color: #6ee7b7; font-size: 13px;">ROI Achievement</div>
                    </div>
                    <div style="padding: 24px; border-radius: 12px; text-align: center; background: rgba(124, 58, 237, 0.2); border: 2px solid #7c3aed;">
                        <div style="font-size: 48px; margin-bottom: 12px;">üéØ</div>
                        <div style="font-weight: 700; margin-bottom: 6px;">User Experience</div>
                        <div style="color: #c4b5fd; font-size: 13px;">Dashboard Design</div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script>
        function changeTab(tabName) {
            var tabs = document.querySelectorAll('.tab-content');
            for (var i = 0; i < tabs.length; i++) {
                tabs[i].classList.remove('active');
            }
            
            var buttons = document.querySelectorAll('.tab-btn');
            for (var i = 0; i < buttons.length; i++) {
                buttons[i].classList.remove('active');
            }
            
            document.getElementById(tabName).classList.add('active');
            document.getElementById('tab-' + tabName).classList.add('active');
        }

        function predict() {
            var btn = document.getElementById('predictBtn');
            btn.disabled = true;
            btn.textContent = 'üîÑ Analyzing...';
            
            var data = {
                gender: document.getElementById('gender').value,
                SeniorCitizen: parseInt(document.getElementById('senior').value),
                Partner: document.getElementById('partner').value,
                Dependents: document.getElementById('dependents').value,
                tenure: parseInt(document.getElementById('tenure').value),
                PhoneService: 'Yes',
                MultipleLines: 'No',
                InternetService: document.getElementById('internet').value,
                OnlineSecurity: 'No',
                OnlineBackup: 'No',
                DeviceProtection: 'No',
                TechSupport: document.getElementById('techsupport').value,
                StreamingTV: 'No',
                StreamingMovies: 'No',
                Contract: document.getElementById('contract').value,
                PaperlessBilling: 'Yes',
                PaymentMethod: 'Electronic check',
                MonthlyCharges: parseFloat(document.getElementById('monthly').value),
                TotalCharges: parseFloat(document.getElementById('total').value)
            };

            fetch('/api/predict', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(data)
            })
            .then(function(response) { return response.json(); })
            .then(function(data) {
                if (data.success) {
                    var result = data.data;
                    var prob = (result.churn_probability * 100).toFixed(1);
                    
                    var riskClass = 'risk-low';
                    if (result.risk_color === 'orange') riskClass = 'risk-medium';
                    if (result.risk_color === 'red') riskClass = 'risk-high';
                    if (result.risk_color === 'purple') riskClass = 'risk-critical';
                    
                    var featuresHTML = '';
                    if (result.feature_importance) {
                        for (var i = 0; i < Math.min(3, result.feature_importance.length); i++) {
                            var item = result.feature_importance[i];
                            featuresHTML += '<div style="display: flex; justify-content: space-between; padding: 14px; background: rgba(71, 85, 105, 0.3); border-radius: 10px; margin-top: 12px;"><span style="color: #cbd5e1; font-weight: 600;">' + item.feature + '</span><span style="color: #f59e0b; font-weight: 800;">' + (item.importance * 100).toFixed(0) + '%</span></div>';
                        }
                    }
                    
                    document.getElementById('results').innerHTML = '<div class="risk-box ' + riskClass + '"><div style="font-size: 48px; font-weight: 900; margin-bottom: 12px;">' + result.risk_level.toUpperCase() + '</div><div style="font-size: 28px; font-weight: 700;">' + prob + '% Churn Probability</div></div><div style="margin-top: 24px;"><h3 style="font-weight: 700; margin-bottom: 12px;">Top Risk Factors:</h3>' + featuresHTML + '</div>';
                } else {
                    alert('Prediction failed: ' + data.error);
                }
                btn.disabled = false;
                btn.textContent = 'üöÄ Analyze with AI';
            })
            .catch(function(error) {
                alert('Error: Make sure Flask server is running!');
                btn.disabled = false;
                btn.textContent = 'üöÄ Analyze with AI';
            });
        }
    </script>
</body>
</html>